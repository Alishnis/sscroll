<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Scroll - –ü—Ä–æ—Ñ–∏–ª—å</title>
    <link rel="stylesheet" href="template-styles.css">
    <link rel="stylesheet" href="auth-styles.css">
    
    <!-- –ï–¥–∏–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <link rel="stylesheet" href="unified-navbar.css">
    <script src="unified-navbar.js"></script>
    
    <!-- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —è—Ä–∫–æ—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞ -->
    <script src="brightness-monitor.js"></script>
    
    <!-- Auth system -->
    <script src="auth-script.js"></script>
    
    <!-- Smart Currency System -->
    <script src="smart-currency.js"></script>
    
    <!-- TTS Service -->
    <script src="tts-simple.js"></script>
    
        <!-- Button Audio System -->
    <script src="button-audio.js"></script>
<style>
        /* Smart Currency Stats Styles */
        .smart-stats-section {
            margin: 30px 0;
            padding: 20px;
            background: rgba(48, 202, 161, 0.1);
            border: 1px solid rgba(48, 202, 161, 0.3);
            border-radius: 15px;
        }

        .section-title {
            color: #30CAA1;
            font-size: 1.3rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .smart-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-icon {
            font-size: 2rem;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(48, 202, 161, 0.2);
            border-radius: 10px;
        }

        .stat-info {
            flex: 1;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #30CAA1;
            margin-bottom: 5px;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        /* Achievements Section Styles */
        .achievements-section {
            margin: 30px 0;
            padding: 20px;
            background: rgba(44, 44, 46, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .achievement-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .achievement-card:hover {
            border-color: #30CAA1;
            background: rgba(48, 202, 161, 0.1);
            transform: translateY(-2px);
        }

        .achievement-card.owned {
            border-color: #30CAA1;
            background: rgba(48, 202, 161, 0.1);
        }

        .achievement-card.owned::before {
            content: '‚úì';
            position: absolute;
            top: 10px;
            right: 10px;
            background: #30CAA1;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .achievement-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: block;
        }

        .achievement-name {
            color: white;
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .achievement-type {
            color: #30CAA1;
            font-size: 0.8rem;
            margin-bottom: 5px;
        }

        .achievement-price {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .achievement-card.owned .achievement-price {
            color: #30CAA1;
            font-weight: 600;
        }

        .achievements-actions {
            text-align: center;
            margin-top: 20px;
        }

        .shop-btn {
            background: linear-gradient(135deg, #30CAA1 0%, #20A0FF 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .shop-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(48, 202, 161, 0.3);
        }

        .empty-achievements {
            text-align: center;
            color: rgba(255, 255, 255, 0.6);
            padding: 40px;
            font-style: italic;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .smart-stats-grid {
                grid-template-columns: 1fr;
            }
            
            .achievements-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="page">
        <!-- Header -->
        <header class="header">
            <div class="header__content">
                <div class="header__left">
                    <h1 class="header__title">–ü—Ä–æ—Ñ–∏–ª—å</h1>
                </div>
                <div class="header__right">
                    <div id="smartCurrencyDisplay" class="smart-currency-display">
                        <svg class="smart-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 20px; height: 20px;">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        <span class="smart-amount">0</span>
                        <span class="smart-text">Smart</span>
                    </div>
                    <div class="header__logo">
                        <img src="Adobe Express - file.png" alt="Smart Scroll Logo" class="header__logo-icon">
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <div class="content">
                <!-- Main Content Area -->
                <div class="main-content">
                    <div class="content-card">
                        <div class="content-card__header">
                            <h2 class="content-card__title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ</h2>
                        </div>
                        <div class="content-card__body">
                            <div id="user-profile" style="display: none;">
                                <div class="profile-info">
                                    <div class="profile-avatar">
                                        <div class="avatar-circle">
                                            <span id="avatar-initial">U</span>
                                        </div>
                                    </div>
                                    
                                    <div class="profile-details">
                                        <div class="profile-item">
                                            <label class="profile-label">–ù–∏–∫–Ω–µ–π–º:</label>
                                            <span class="profile-value" id="profile-username">-</span>
                                        </div>
                                        
                                        <div class="profile-item">
                                            <label class="profile-label">Email:</label>
                                            <span class="profile-value" id="profile-email">-</span>
                                        </div>
                                        
                                        <div class="profile-item">
                                            <label class="profile-label">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</label>
                                            <span class="profile-value" id="profile-date">-</span>
                                        </div>
                                        
                                        <div class="profile-item">
                                            <label class="profile-label">ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                                            <span class="profile-value" id="profile-id">-</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="profile-actions">
                                    <button id="logout-btn" class="auth-button auth-button--danger">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;">
                                            <path d="M16 17v-3H9v-4h7V7l5 5-5 5zM14 2a2 2 0 0 1 2 2v2h-2V4H5v16h9v-2h2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9z"/>
                                        </svg>
                                        –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Smart Currency Stats -->
                            <div class="smart-stats-section">
                                <h3 class="section-title">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 24px; height: 24px;">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                    Smart –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                                </h3>
                                <div class="smart-stats-grid">
                                    <div class="stat-item">
                                        <div class="stat-icon">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 32px; height: 32px;">
                                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                            </svg>
                                        </div>
                                        <div class="stat-info">
                                            <div class="stat-value" id="smartBalance">0</div>
                                            <div class="stat-label">Smart –æ—á–∫–æ–≤</div>
                                        </div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-icon">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 32px; height: 32px;">
                                                <path d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"/>
                                                <path d="M9 8V17H11V8H9ZM13 8V17H15V8H13Z"/>
                                            </svg>
                                        </div>
                                        <div class="stat-info">
                                            <div class="stat-value" id="totalPurchases">0</div>
                                            <div class="stat-label">–ü–æ–∫—É–ø–æ–∫</div>
                                        </div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-icon">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 32px; height: 32px;">
                                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                                            </svg>
                                        </div>
                                        <div class="stat-info">
                                            <div class="stat-value" id="totalSpent">0</div>
                                            <div class="stat-label">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Achievements Section -->
                            <div class="achievements-section">
                                <h3 class="section-title">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 24px; height: 24px;">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    –ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                                </h3>
                                <div class="achievements-grid" id="achievementsGrid">
                                    <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                                <div class="achievements-actions">
                                    <button onclick="window.location.href='smart-shop.html'" class="shop-btn">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 16px; height: 16px; margin-right: 8px; vertical-align: middle;">
                                            <path d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"/>
                                            <path d="M9 8V17H11V8H9ZM13 8V17H15V8H13Z"/>
                                        </svg>
                                        –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω
                                    </button>
                                </div>
                            </div>
                            
                            <div id="login-prompt" style="display: none;">
                                <div class="login-prompt">
                                    <h3>–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç</h3>
                                    <p>–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</p>
                                    <div class="auth-buttons">
                                        <a href="login.html" class="auth-button">–í–æ–π—Ç–∏</a>
                                        <a href="register.html" class="auth-button auth-button--secondary">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Sidebar -->
                <div class="right-sidebar">
                    <div class="right-sidebar__item" data-action="content">
                        <svg class="right-sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                            <path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z" clip-rule="evenodd" />
                            <path d="M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z" />
                        </svg>
                    </div>
                    <div class="right-sidebar__item" data-action="quiz">
                        <svg class="right-sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                            <path d="M16.5 6a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v7.5a3 3 0 0 0 3 3v-6A4.5 4.5 0 0 1 10.5 6h6Z" />
                            <path d="M18 7.5a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-7.5a3 3 0 0 1-3-3v-7.5a3 3 0 0 1 3-3H18Z" />
                        </svg>
                    </div>
                    <div class="right-sidebar__item right-sidebar__item--active" data-action="notes">
                        <svg class="right-sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z" />
                        </svg>
                    </div>
                </div>

                <!-- Sidebar Content Cards -->
                <div class="sidebar-content">
                    <!-- Summary Card -->
                    <div class="summary-card" id="summaryCard" style="display: none;">
                        <div class="summary-card__header">
                            <svg class="summary-card__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z" clip-rule="evenodd" />
                                <path d="M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z" />
                            </svg>
                            <h3 class="summary-card__title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ñ–∏–ª–µ</h3>
                        </div>
                        <div class="summary-card__content">
                            <p class="summary-card__text">
                                –ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—à–µ–º –∞–∫–∫–∞—É–Ω—Ç–µ: –Ω–∏–∫–Ω–µ–π–º, email, –¥–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
                            </p>
                        </div>
                    </div>

                    <!-- Notes Card -->
                    <div class="notes-card" id="notesCard" style="display: none;">
                        <div class="notes-card__header">
                            <svg class="notes-card__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z" />
                            </svg>
                            <h3 class="notes-card__title">–ó–∞–º–µ—Ç–∫–∏</h3>
                        </div>
                        <div class="notes-card__content">
                            <textarea class="notes-card__textarea" placeholder="–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∑–∞–º–µ—Ç–∫–∏ –æ –ø—Ä–æ—Ñ–∏–ª–µ..."></textarea>
                        </div>
                    </div>

                    <!-- Quiz Card -->
                    <div class="quiz-card" id="quizCard" style="display: none;">
                        <div class="quiz-card__header">
                            <svg class="quiz-card__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M16.5 6a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v7.5a3 3 0 0 0 3 3v-6A4.5 4.5 0 0 1 10.5 6h6Z" />
                                <path d="M18 7.5a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-7.5a3 3 0 0 1-3-3v-7.5a3 3 0 0 1 3-3H18Z" />
                            </svg>
                            <h3 class="quiz-card__title">–ë—ã—Å—Ç—Ä—ã–π –∫–≤–∏–∑</h3>
                        </div>
                        <div class="quiz-card__content">
                            <p class="quiz-card__question">
                                –•–æ—Ç–∏—Ç–µ –ø—Ä–æ–π—Ç–∏ –∫–≤–∏–∑?
                            </p>
                            <div class="quiz-card__options">
                                <button class="quiz-card__option" onclick="window.location.href='./quiz-template.html'">–ü—Ä–æ–π—Ç–∏ –∫–≤–∏–∑</button>
                                <button class="quiz-card__option" onclick="window.location.href='./feed.html'">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–µ–Ω—Ç—É</button>
                            </div>
                            <div class="quiz-card__navigation">
                                <button class="quiz-card__nav" onclick="window.location.href='./settings.html'">
                                    <svg class="quiz-card__nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M7.72 12.53a.75.75 0 0 1 0-1.06L10.94 8.25a.75.75 0 1 1 1.06 1.06L9.06 12l2.94 2.69a.75.75 0 1 1-1.06 1.06L7.72 12.53Z" clip-rule="evenodd" />
                                    </svg>
                                    –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                                </button>
                                <button class="quiz-card__nav" onclick="window.location.href='./posts.html'">
                                    –ü–æ—Å—Ç—ã
                                    <svg class="quiz-card__nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-3.22 3.22a.75.75 0 1 1-1.06-1.06L14.94 12l-2.94-2.69a.75.75 0 1 1 1.06-1.06l3.22 3.22Z" clip-rule="evenodd" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

    </div>

    <script src="script.js"></script>
    
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –µ–¥–∏–Ω–æ–≥–æ –Ω–∞–≤–±–∞—Ä–∞ -->
    <script>
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –µ–¥–∏–Ω—ã–π –Ω–∞–≤–±–∞—Ä
        fetch('unified-navbar.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('unified-navbar-container').innerHTML = html;
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞–≤–±–∞—Ä –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
                if (window.initializeNavbar) {
                    window.initializeNavbar();
                }
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –µ–¥–∏–Ω–æ–≥–æ –Ω–∞–≤–±–∞—Ä–∞:', error);
            });
    </script>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Smart Currency –∏ TTS
        document.addEventListener('DOMContentLoaded', function() {
            if (window.SmartCurrency) {
                window.SmartCurrency.updateDisplay();
                console.log('‚úÖ Smart Currency –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ');
            }
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TTS
            if (window.TTSService) {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ TTS
                const ttsSettings = localStorage.getItem('ttsSettings');
                if (ttsSettings) {
                    const settings = JSON.parse(ttsSettings);
                    if (settings.enabled) {
                        window.TTSService.enableTTS();
                        console.log('üîä TTS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–µ–Ω');
                    }
                }
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            loadSmartStats();
            loadAchievements();
        });

        function loadSmartStats() {
            if (!window.SmartCurrency) return;

            const currentBalance = window.SmartCurrency.getPoints();
            const inventory = getInventory();
            const totalSpent = inventory.reduce((sum, item) => sum + item.price, 0);

            document.getElementById('smartBalance').textContent = currentBalance;
            document.getElementById('totalPurchases').textContent = inventory.length;
            document.getElementById('totalSpent').textContent = totalSpent;
        }

        function getInventory() {
            return JSON.parse(localStorage.getItem('userInventory') || '[]');
        }

        function loadAchievements() {
            const inventory = getInventory();
            const achievementsGrid = document.getElementById('achievementsGrid');
            
            if (inventory.length === 0) {
                achievementsGrid.innerHTML = `
                    <div class="empty-achievements">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="width: 20px; height: 20px; margin-right: 8px; vertical-align: middle;">
                            <path d="M19 7h-3V6a4 4 0 0 0-8 0v1H5a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM10 6a2 2 0 0 1 4 0v1h-4V6zm8 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v10z"/>
                        </svg>
                        –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π<br>
                        –ó–∞—Ä–∞–±–æ—Ç–∞–π—Ç–µ Smart –æ—á–∫–∏ –≤ –∫–≤–∏–∑–∞—Ö –∏ –∫—É–ø–∏—Ç–µ –∏—Ö –≤ –º–∞–≥–∞–∑–∏–Ω–µ!
                    </div>
                `;
                return;
            }

            achievementsGrid.innerHTML = '';

            inventory.forEach(item => {
                const achievementCard = document.createElement('div');
                achievementCard.className = 'achievement-card owned';
                
                achievementCard.innerHTML = `
                    <div class="achievement-icon">${item.icon}</div>
                    <div class="achievement-name">${item.name}</div>
                    <div class="achievement-type">${getTypeLabel(item.type)}</div>
                    <div class="achievement-price">${item.price} Smart</div>
                `;

                achievementsGrid.appendChild(achievementCard);
            });
        }

        function getTypeLabel(type) {
            const labels = {
                'achievement': '–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ',
                'badge': '–ó–Ω–∞—á–æ–∫',
                'title': '–¢–∏—Ç—É–ª',
                'effect': '–≠—Ñ—Ñ–µ–∫—Ç'
            };
            return labels[type] || type;
        }
    </script>
</body>
</html>
