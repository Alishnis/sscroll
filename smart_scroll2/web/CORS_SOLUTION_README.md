# üîß CORS Solution –¥–ª—è SmartScroll

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ Reddit API –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ CORS (Cross-Origin Resource Sharing):
```
Access to fetch at 'http://localhost:3002/reddit/search?...' from origin 'http://localhost:8000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.
```

## –†–µ—à–µ–Ω–∏–µ
–°–æ–∑–¥–∞–Ω CORS Proxy Server, –∫–æ—Ç–æ—Ä—ã–π:
- ‚úÖ –û–±—Ö–æ–¥–∏—Ç CORS –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ Reddit API
- ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã HTTP

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
cd web/
npm install
```

### 2. –ó–∞–ø—É—Å–∫ CORS Proxy Server
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./start-cors-proxy.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
npm start
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:3003/health

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   SmartScroll   ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  CORS Proxy     ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Reddit API    ‚îÇ
‚îÇ  (localhost:8000)‚îÇ    ‚îÇ (localhost:3003)‚îÇ    ‚îÇ (reddit.com)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–æ—Ä—Ç—ã
- **SmartScroll**: `localhost:8000` (–≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- **CORS Proxy**: `localhost:3003` (–Ω–æ–≤—ã–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä)
- **Reddit API**: `reddit.com` (—á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏)

### –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ Origins
- `http://localhost:8000`
- `http://127.0.0.1:8000`
- `http://localhost:3000`
- `http://127.0.0.1:3000`

## API Endpoints

### CORS Proxy Server
- **Health Check**: `GET /health`
- **Reddit Search**: `GET /reddit/search.json?q=technology&sort=relevance&limit=10`
- **Local API**: `GET /api/` (–ø—Ä–æ–∫—Å–∏ –∫ localhost:3002)

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
```javascript
// –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ CORS Proxy
const response = await fetch('http://localhost:3003/reddit/search.json?q=technology&sort=relevance&limit=10');

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞
const health = await fetch('http://localhost:3003/health');
```

## –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### RedditAdvancedService.js
–û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CORS Proxy:
```javascript
// –°—Ç–∞—Ä—ã–π URL (–≤—ã–∑—ã–≤–∞–µ—Ç CORS –æ—à–∏–±–∫—É)
const oldUrl = 'http://localhost:3002/reddit/search?...';

// –ù–æ–≤—ã–π URL (—á–µ—Ä–µ–∑ CORS Proxy)
const newUrl = 'http://localhost:3003/reddit/search.json?...';
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### 1. –ü–æ—Ä—Ç 3003 –∑–∞–Ω—è—Ç
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3003
lsof -i :3003

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill <PID>
```

### 2. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
```bash
cd web/
npm install
```

### 3. Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
–°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js: https://nodejs.org/

### 4. CORS Proxy –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
node cors-proxy-server.js

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
netstat -an | grep 3003
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ CORS Proxy
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f cors-proxy.log
```

### Health Check
```bash
curl http://localhost:3003/health
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: CORS Proxy Server –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. 
–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä —Å CORS –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
- Backend API —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- CDN —Å CORS –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. Browser Extension
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "CORS Unblock" –¥–ª—è Chrome/Firefox

### 2. Chrome —Å –æ—Ç–∫–ª—é—á–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é
```bash
# –¢–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!
google-chrome --disable-web-security --user-data-dir=/tmp/chrome_dev
```

### 3. Backend API
–°–æ–∑–¥–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π backend API —Å CORS –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ CORS Proxy Server
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 3003 —Å–≤–æ–±–æ–¥–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ CORS Proxy Server

---
**–í–µ—Ä—Å–∏—è**: 1.0  
**–î–∞—Ç–∞**: $(date)  
**–ê–≤—Ç–æ—Ä**: SmartScroll Team

