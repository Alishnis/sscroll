<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Scroll - –ö–≤–∏–∑—ã</title>
    <link rel="stylesheet" href="template-styles.css">
    <link rel="stylesheet" href="quiz-styles.css">
    
    <!-- –ï–¥–∏–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <link rel="stylesheet" href="unified-navbar.css">
    <script src="unified-navbar.js"></script>
    
    <!-- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —è—Ä–∫–æ—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞ -->
    <script src="brightness-monitor.js"></script>
    
    <!-- Smart Currency System -->
    <script src="smart-currency.js"></script>
    
    <!-- TTS Service -->
    <script src="tts-simple.js"></script>
    
    <!-- Button Audio System -->
    <script src="button-audio.js"></script>
</head>
<body>
    <div class="page">
        <!-- –ï–¥–∏–Ω—ã–π –Ω–∞–≤–±–∞—Ä -->
        <div id="unified-navbar-container"></div>

        <!-- Main Content -->
        <main class="main">
            <!-- Snap Scroll Navigation -->
            <div class="snap-nav">
                <div class="snap-nav__item" data-section="category-selection">
                    <div class="snap-nav__dot"></div>
                    <span class="snap-nav__label">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</span>
                </div>
                <div class="snap-nav__item" data-section="quiz-section">
                    <div class="snap-nav__dot"></div>
                    <span class="snap-nav__label">–ö–≤–∏–∑</span>
                </div>
                <div class="snap-nav__item" data-section="statistics-section">
                    <div class="snap-nav__dot"></div>
                    <span class="snap-nav__label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                </div>
            </div>
            
            <div class="content">
                <!-- Main Content Area -->
                <div class="main-content">
                    <!-- Category Selection -->
                    <div class="content-card" id="category-selection">
                        <div class="content-card__header">
                            <h2 class="content-card__title">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h2>
                        </div>
                        <div class="content-card__body">
                            <!-- Search Container -->
                            <div class="search-container">
                                <div class="search-box">
                                    <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Ç–µ–º–∞–º..." autocomplete="off">
                                    <div class="search-icon">üîç</div>
                                </div>
                                <div id="search-suggestions" class="search-suggestions hidden">
                                    <!-- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>
                            
                            <!-- Filter Tags -->
                            <div class="filter-tags" id="filter-tags">
                                <!-- –¢–µ–≥–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                            
                            <!-- Questions Count Selector -->
                            <div class="questions-count-selector">
                                <label for="questions-count">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤:</label>
                                <select id="questions-count">
                                    <option value="10">10 –≤–æ–ø—Ä–æ—Å–æ–≤</option>
                                    <option value="20">20 –≤–æ–ø—Ä–æ—Å–æ–≤</option>
                                    <option value="30">30 –≤–æ–ø—Ä–æ—Å–æ–≤</option>
                                    <option value="50" selected>50 –≤–æ–ø—Ä–æ—Å–æ–≤</option>
                                    <option value="100">100 –≤–æ–ø—Ä–æ—Å–æ–≤</option>
                                </select>
                            </div>
                            
                            <!-- Categories Grid -->
                            <div class="categories-grid" id="categories-grid">
                                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                    </div>

                    <!-- Quiz Section -->
                    <div class="content-card hidden" id="quiz-section">
                        <div class="content-card__header">
                            <h2 class="content-card__title" id="quiz-title">–ö–≤–∏–∑</h2>
                            <div class="quiz-progress">
                                <span id="current-question">1</span> / <span id="total-questions">10</span>
                            </div>
                        </div>
                        <div class="content-card__body">
                            <!-- Question Container -->
                            <div class="question-container">
                                <h3 id="question-text">–í–æ–ø—Ä–æ—Å</h3>
                                <div class="answers" id="answers-container">
                                    <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>

                            <!-- Quiz Controls -->
                            <div class="quiz-controls">
                                <button id="prev-question" class="btn btn-secondary hidden">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π</button>
                                <button id="next-question" class="btn btn-primary hidden">–°–ª–µ–¥—É—é—â–∏–π ‚Üí</button>
                                <button id="finish-quiz" class="btn btn-success hidden">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–∏–∑</button>
                            </div>

                            <!-- Question Navigation -->
                            <div class="question-navigation">
                                <div class="nav-header">
                                    <h4>–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º</h4>
                                    <div class="nav-legend">
                                        <div class="legend-item">
                                            <span class="legend-dot correct"></span>
                                            <span>–ü—Ä–∞–≤–∏–ª—å–Ω–æ</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="legend-dot incorrect"></span>
                                            <span>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="legend-dot answered"></span>
                                            <span>–û—Ç–≤–µ—á–µ–Ω–æ</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="legend-dot current"></span>
                                            <span>–¢–µ–∫—É—â–∏–π</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="questions-grid" id="questions-grid">
                                    <!-- –ö–Ω–æ–ø–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Statistics Section -->
                    <div class="content-card hidden" id="statistics-section">
                        <div class="content-card__header">
                            <h2 class="content-card__title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                            <div class="statistics-actions">
                                <button class="btn btn-secondary" onclick="window.quizApp.showCategorySelection()">
                                    ‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
                                </button>
                                <button class="btn btn-primary" onclick="window.quizApp.showStatistics()">
                                    üîÑ –û–±–Ω–æ–≤–∏—Ç—å
                                </button>
                            </div>
                        </div>
                        <div class="content-card__body">
                            <!-- Overall Stats -->
                            <div class="stats-overview">
                                <div class="stat-card">
                                    <div class="stat-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                        </svg>
                                    </div>
                                    <div class="stat-content">
                                        <div class="stat-number" id="total-quizzes">0</div>
                                        <div class="stat-label">–í—Å–µ–≥–æ –∫–≤–∏–∑–æ–≤</div>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                                        </svg>
                                    </div>
                                    <div class="stat-content">
                                        <div class="stat-number" id="total-questions">0</div>
                                        <div class="stat-label">–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤</div>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                                        </svg>
                                    </div>
                                    <div class="stat-content">
                                        <div class="stat-number" id="correct-answers">0</div>
                                        <div class="stat-label">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö</div>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                                        </svg>
                                    </div>
                                    <div class="stat-content">
                                        <div class="stat-number" id="incorrect-answers">0</div>
                                        <div class="stat-label">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Accuracy Chart -->
                            <div class="accuracy-section">
                                <h3>–¢–æ—á–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤</h3>
                                <div class="accuracy-circle">
                                    <div class="accuracy-percentage" id="accuracy-percentage">0%</div>
                                    <div class="accuracy-label">–¢–æ—á–Ω–æ—Å—Ç—å</div>
                                </div>
                            </div>

                            <!-- Recent Quizzes -->
                            <div class="recent-quizzes">
                                <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–≤–∏–∑—ã</h3>
                                <div class="quiz-history" id="quiz-history">
                                    <div class="no-history">
                                        <p>–ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –∫–≤–∏–∑–æ–≤</p>
                                        <p>–ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –∫–≤–∏–∑!</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Category Performance -->
                            <div class="category-performance">
                                <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                                <div class="category-stats" id="category-stats">
                                    <div class="no-category-stats">
                                        <p>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫–≤–∏–∑–æ–≤</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Right Sidebar -->
                <div class="right-sidebar">
                    <div class="right-sidebar__item" data-action="content">
                        <svg class="right-sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                            <path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z" clip-rule="evenodd" />
                            <path d="M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z" />
                        </svg>
                    </div>
                    <div class="right-sidebar__item" data-action="quiz">
                        <svg class="right-sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                            <path d="M16.5 6a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v7.5a3 3 0 0 0 3 3v-6A4.5 4.5 0 0 1 10.5 6h6Z" />
                            <path d="M18 7.5a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-7.5a3 3 0 0 1-3-3v-7.5a3 3 0 0 1 3-3H18Z" />
                        </svg>
                    </div>
                    <div class="right-sidebar__item right-sidebar__item--active" data-action="notes">
                        <svg class="right-sidebar__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
                            <path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z" />
                        </svg>
                    </div>
                </div>

                <!-- Sidebar Content Cards -->
                <div class="sidebar-content">
                    <!-- Summary Card -->
                    <div class="summary-card" id="summaryCard" style="display: none;">
                        <div class="summary-card__header">
                            <svg class="summary-card__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z" clip-rule="evenodd" />
                                <path d="M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z" />
                            </svg>
                            <h3 class="summary-card__title">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h3>
                        </div>
                        <div class="summary-card__content">
                            <p class="summary-card__text">
                                –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞–º–∏ –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ç–µ–º–∞–º. –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∫–≤–∏–∑–∞.
                            </p>
                        </div>
                    </div>

                    <!-- Notes Card -->
                    <div class="notes-card" id="notesCard" style="display: none;">
                        <div class="notes-card__header">
                            <svg class="notes-card__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z" />
                            </svg>
                            <h3 class="notes-card__title">–ó–∞–º–µ—Ç–∫–∏</h3>
                        </div>
                        <div class="notes-card__content">
                            <textarea class="notes-card__textarea" placeholder="–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –∑–∞–º–µ—Ç–∫–∏ –æ –∫–≤–∏–∑–∞—Ö..."></textarea>
                        </div>
                    </div>

                    <!-- Quiz Card -->
                    <div class="quiz-card" id="quizCard" style="display: none;">
                        <div class="quiz-card__header">
                            <svg class="quiz-card__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M16.5 6a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v7.5a3 3 0 0 0 3 3v-6A4.5 4.5 0 0 1 10.5 6h6Z" />
                                <path d="M18 7.5a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-7.5a3 3 0 0 1-3-3v-7.5a3 3 0 0 1 3-3H18Z" />
                            </svg>
                            <h3 class="quiz-card__title">–ë—ã—Å—Ç—Ä—ã–π –∫–≤–∏–∑</h3>
                        </div>
                        <div class="quiz-card__content">
                            <p class="quiz-card__question" id="sidebar-question">
                                –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è –Ω–∞—á–∞–ª–∞ –∫–≤–∏–∑–∞
                            </p>
                            <div class="quiz-card__options" id="sidebar-options">
                                <button class="quiz-card__option" onclick="startQuickQuiz('general')">–û–±—â–∏–µ –∑–Ω–∞–Ω–∏—è</button>
                                <button class="quiz-card__option" onclick="startQuickQuiz('science-technology')">–ù–∞—É–∫–∞</button>
                                <button class="quiz-card__option" onclick="startQuickQuiz('history')">–ò—Å—Ç–æ—Ä–∏—è</button>
                                <button class="quiz-card__option" onclick="startQuickQuiz('geography')">–ì–µ–æ–≥—Ä–∞—Ñ–∏—è</button>
                                <button class="quiz-card__option" onclick="startQuickQuiz('literature')">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</button>
                                <button class="quiz-card__option" onclick="startQuickQuiz('music')">–ú—É–∑—ã–∫–∞</button>
                                <button class="quiz-card__option" onclick="startQuickQuiz('movies')">–ö–∏–Ω–æ</button>
                                <button class="quiz-card__option" onclick="startQuickQuiz('sports')">–°–ø–æ—Ä—Ç</button>
                            </div>
                            <div class="quiz-card__navigation">
                                <button class="quiz-card__nav" onclick="showAllCategories()">
                                    <svg class="quiz-card__nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M7.72 12.53a.75.75 0 0 1 0-1.06L10.94 8.25a.75.75 0 1 1 1.06 1.06L9.06 12l2.94 2.69a.75.75 0 1 1-1.06 1.06L7.72 12.53Z" clip-rule="evenodd" />
                                    </svg>
                                    –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
                                </button>
                                <button class="quiz-card__nav" onclick="startRandomQuiz()">
                                    –°–ª—É—á–∞–π–Ω—ã–π –∫–≤–∏–∑
                                    <svg class="quiz-card__nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-3.22 3.22a.75.75 0 1 1-1.06-1.06L14.94 12l-2.94-2.69a.75.75 0 1 1 1.06-1.06l3.22 3.22Z" clip-rule="evenodd" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

    </div>

    <!-- Load quiz data and scripts -->
    <script src="quiz-data-full.js"></script>
    <script src="script.js"></script>
    <script src="quiz-script.js"></script>
    
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ –µ–¥–∏–Ω–æ–≥–æ –Ω–∞–≤–±–∞—Ä–∞ -->
    <script>
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –µ–¥–∏–Ω—ã–π –Ω–∞–≤–±–∞—Ä
        fetch('unified-navbar.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('unified-navbar-container').innerHTML = html;
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞–≤–±–∞—Ä –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
                if (window.initializeNavbar) {
                    window.initializeNavbar();
                }
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –µ–¥–∏–Ω–æ–≥–æ –Ω–∞–≤–±–∞—Ä–∞:', error);
            });
    </script>
</body>
</html>
