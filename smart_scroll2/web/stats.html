<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Scroll - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="unified-navbar.css">
    <script src="unified-navbar.js"></script>
    
    <!-- Button Audio System -->
    <script src="button-audio.js"></script>
    
    <style>
        /* –ù–æ–≤—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –Ω–∞–≤–±–∞—Ä */
        .modern-navbar {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(145deg, rgba(20, 20, 20, 0.95), rgba(30, 30, 30, 0.95));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 8px;
            z-index: 1000;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            max-width: 90vw;
            width: auto;
        }

        .modern-navbar__container {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .modern-navbar__item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px 8px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 18px;
            position: relative;
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            min-width: 60px;
            background: transparent;
            overflow: hidden;
        }

        .modern-navbar__item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(145deg, rgba(0, 212, 255, 0.1), rgba(0, 150, 200, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 18px;
        }

        .modern-navbar__item:hover {
            color: rgba(255, 255, 255, 0.9);
            transform: translateY(-2px);
            background: rgba(255, 255, 255, 0.05);
        }

        .modern-navbar__item:hover::before {
            opacity: 1;
        }

        .modern-navbar__item--active {
            color: #00d4ff !important;
            background: linear-gradient(145deg, rgba(0, 212, 255, 0.15), rgba(0, 150, 200, 0.15)) !important;
            box-shadow: 
                0 4px 15px rgba(0, 212, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .modern-navbar__item--active::before {
            opacity: 1;
        }

        .modern-navbar__icon-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            margin-bottom: 4px;
        }

        .modern-navbar__icon {
            width: 20px;
            height: 20px;
            fill: currentColor;
            transition: all 0.3s ease;
        }

        .modern-navbar__item:hover .modern-navbar__icon {
            transform: scale(1.1);
        }

        .modern-navbar__item--active .modern-navbar__icon {
            fill: #00d4ff !important;
            transform: scale(1.05);
        }

        .modern-navbar__label {
            font-size: 10px;
            font-weight: 600;
            text-align: center;
            line-height: 1.2;
            letter-spacing: 0.3px;
            transition: all 0.3s ease;
        }

        .modern-navbar__item--active .modern-navbar__label {
            color: #00d4ff !important;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes navbarItemPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .modern-navbar__item--active {
            animation: navbarItemPulse 2s ease-in-out infinite;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .modern-navbar {
                bottom: 10px;
                padding: 6px;
                border-radius: 20px;
            }
            
            .modern-navbar__item {
                padding: 8px 6px;
                min-width: 50px;
            }
            
            .modern-navbar__icon {
                width: 18px;
                height: 18px;
            }
            
            .modern-navbar__label {
                font-size: 9px;
            }
        }
    </style>
    <style>
        /* –ñ–∏–≤–æ–π —Ç–∞–π–º–µ—Ä */
        .live-timer-container {
            margin-bottom: 32px;
        }
        
        .live-timer {
            background: linear-gradient(135deg, #30CAA1 0%, #20A0FF 100%);
            border-radius: 20px;
            padding: 24px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 8px 32px rgba(48, 202, 161, 0.3);
            animation: pulse-glow 2s infinite;
        }
        
        .live-timer__icon {
            width: 64px;
            height: 64px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .live-timer__icon svg {
            width: 32px;
            height: 32px;
        }
        
        .live-timer__content {
            flex: 1;
            color: white;
        }
        
        .live-timer__time {
            font-size: 48px;
            font-weight: 700;
            line-height: 1;
            margin-bottom: 8px;
            font-family: 'Courier New', monospace;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .live-timer__label {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 8px;
        }
        
        .live-timer__status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 500;
        }
        
        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4CAF50;
            animation: pulse-dot 1.5s infinite;
        }
        
        .status-dot.inactive {
            background: #FF6B6B;
            animation: none;
        }
        
        @keyframes pulse-glow {
            0%, 100% { 
                box-shadow: 0 8px 32px rgba(48, 202, 161, 0.3);
            }
            50% { 
                box-shadow: 0 12px 40px rgba(48, 202, 161, 0.5);
            }
        }
        
        @keyframes pulse-dot {
            0%, 100% { 
                opacity: 1;
                transform: scale(1);
            }
            50% { 
                opacity: 0.7;
                transform: scale(1.2);
            }
        }

        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç–∏–ª–∏ */
        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #2E3136 0%, #1E1E1E 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #30CAA1 0%, #20A0FF 100%);
        }
        
        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 32px rgba(48, 202, 161, 0.2);
        }
        
        .stat-card__icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 16px;
            color: #30CAA1;
        }
        
        .stat-card__value {
            font-size: 36px;
            font-weight: 700;
            color: #FFFFFF;
            margin-bottom: 8px;
            line-height: 1;
        }
        
        .stat-card__label {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 12px;
        }
        
        .stat-card__change {
            font-size: 14px;
            font-weight: 500;
            padding: 4px 12px;
            border-radius: 20px;
            display: inline-block;
        }
        
        .stat-card__change--positive {
            background-color: rgba(48, 202, 161, 0.2);
            color: #30CAA1;
        }
        
        .stat-card__change--negative {
            background-color: rgba(255, 99, 99, 0.2);
            color: #FF6363;
        }
        
        .chart-container {
            background: linear-gradient(135deg, #2E3136 0%, #1E1E1E 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }
        
        .chart-title {
            font-size: 24px;
            font-weight: 600;
            color: #FFFFFF;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 16px 0;
        }
        
        .progress-bar__fill {
            height: 100%;
            background: linear-gradient(90deg, #30CAA1 0%, #20A0FF 100%);
            border-radius: 4px;
            transition: width 0.8s ease;
        }
        
        .daily-stats {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 12px;
            margin-top: 24px;
        }
        
        .daily-stat {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px 8px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .daily-stat:hover {
            background-color: rgba(48, 202, 161, 0.1);
            border-color: #30CAA1;
        }
        
        .daily-stat--today {
            border-color: #30CAA1;
            background-color: rgba(48, 202, 161, 0.1);
        }
        
        .daily-stat--active {
            animation: pulse 2s infinite;
            box-shadow: 0 0 10px rgba(48, 202, 161, 0.5);
        }
        
        .daily-stat__day {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 4px;
        }
        
        .daily-stat__value {
            font-size: 16px;
            font-weight: 600;
            color: #FFFFFF;
        }
        
        .achievement-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #30CAA1 0%, #20A0FF 100%);
            color: #FFFFFF;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            margin: 4px;
        }
        
        .achievements-container {
            background: linear-gradient(135deg, #2E3136 0%, #1E1E1E 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-top: 24px;
        }
        
        .achievements-title {
            font-size: 20px;
            font-weight: 600;
            color: #FFFFFF;
            margin-bottom: 16px;
            text-align: center;
        }
        
        .achievements-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }
        
        /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –Ω–∞–≤–±–∞—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .navbar__item--stats {
            position: relative;
            overflow: hidden;
        }
        
        .navbar__item--stats::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(48, 202, 161, 0.3), transparent);
            transition: left 0.5s ease;
        }
        
        .navbar__item--stats:hover::before {
            left: 100%;
        }
        
        .navbar__item--stats .navbar__icon {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ–∫—Ü–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .navbar__item--active.navbar__item--stats {
            background: linear-gradient(135deg, #30CAA1 0%, #20A0FF 100%);
            box-shadow: 0 4px 16px rgba(48, 202, 161, 0.4);
            transform: translateY(-2px);
        }
        
        .navbar__item--active.navbar__item--stats .navbar__icon {
            animation: none;
            transform: scale(1.1);
        }
        
        .navbar__item--active.navbar__item--stats .navbar__text {
            font-weight: 600;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –Ω–∞–≤–±–∞—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ - —Ç–æ–ª—å–∫–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .navbar::-webkit-scrollbar {
            display: none;
        }
        
        @media (max-width: 768px) {
            .live-timer {
                flex-direction: column;
                text-align: center;
                gap: 16px;
            }
            
            .live-timer__time {
                font-size: 36px;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .daily-stats {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .stat-card__value {
                font-size: 28px;
            }
            
            .navbar__item--stats .navbar__icon {
                animation: none;
            }
        }
        
        @media (max-width: 480px) {
            .navbar__icon {
                width: 16px !important;
                height: 16px !important;
            }
        }
    </style>
</head>
<body>
    <div class="page">
        <!-- Header -->
        <header class="header">
            <h1 class="header__title">SmartScroll</h1>
            <div class="header__search">
                <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫..." class="search-input">
                <button onclick="performSearch()" class="search-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="search-icon">
                        <path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd" />
                    </svg>
                </button>
            </div>
            <div class="header__right">
                <div id="smartCurrencyDisplay" class="smart-currency-display">
                    <span class="smart-icon"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></span>
                    <span class="smart-amount">0</span>
                    <span class="smart-text">Smart</span>
                </div>
                <div class="header__logo">
                    <img src="template-logo.png" alt="Smart Scroll Logo" class="header__logo-icon">
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <div class="content">
                <!-- Main Content Area -->
                <div class="main-content">
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –≤—á–µ—Ä–∞ -->
                    <div class="content-card">
                        <div class="content-card__header">
                            <h2 class="content-card__title">–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h2>
                        </div>
                        <div class="content-card__body">
                            <!-- –ñ–∏–≤–æ–π —Ç–∞–π–º–µ—Ä -->
                            <div class="live-timer-container">
                                <div class="live-timer">
                                    <div class="live-timer__icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                        </svg>
                                    </div>
                                    <div class="live-timer__content">
                                        <div class="live-timer__time" id="liveTimer">00:00:00</div>
                                        <div class="live-timer__label">–í—Ä–µ–º—è –Ω–∞ —Å–∞–π—Ç–µ</div>
                                        <div class="live-timer__status" id="activityStatus">
                                            <span class="status-dot" id="statusDot"></span>
                                            <span id="statusText">–ê–∫—Ç–∏–≤–µ–Ω</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ -->
                            <div class="stats-container">
                                <div class="stat-card">
                                    <svg class="stat-card__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                    <div class="stat-card__value" id="timeSpent">0—á 0–º</div>
                                    <div class="stat-card__label">–í—Ä–µ–º—è –Ω–∞ —Å–∞–π—Ç–µ —Å–µ–≥–æ–¥–Ω—è</div>
                                    <div class="stat-card__change stat-card__change--positive" id="timeChange">+0% –∫ –≤—á–µ—Ä–∞</div>
                                </div>
                                
                                <div class="stat-card">
                                    <svg class="stat-card__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                    </svg>
                                    <div class="stat-card__value" id="pointsEarned">0</div>
                                    <div class="stat-card__label">–û—á–∫–∏ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                                    <div class="stat-card__change stat-card__change--positive" id="pointsChange">+0% –∫ –≤—á–µ—Ä–∞</div>
                                </div>
                            </div>

                            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
                            <div class="chart-container">
                                <div class="chart-title">–ü—Ä–æ–≥—Ä–µ—Å—Å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–≤–Ω—é</div>
                                <div class="progress-bar">
                                    <div class="progress-bar__fill" style="width: 78%"></div>
                                </div>
                                <div style="text-align: center; color: rgba(255, 255, 255, 0.7); font-size: 14px;">
                                    1,247 / 1,600 –æ—á–∫–æ–≤ (78%)
                                </div>
                            </div>

                            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ -->
                            <div class="chart-container">
                                <div class="chart-title">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é</div>
                                <div class="daily-stats" id="weeklyStats">
                                    <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>

                            <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
                            <div class="achievements-container">
                                <div class="achievements-title"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px;"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–µ–≥–æ–¥–Ω—è</div>
                                <div class="achievements-grid" id="achievementsGrid">
                                    <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>

        <!-- –ï–¥–∏–Ω—ã–π –Ω–∞–≤–±–∞—Ä -->
        <div id="unified-navbar-container"></div>
    </div>

    <script src="script.js"></script>
    <script>
        // –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
        class TimeTracker {
            constructor() {
                this.startTime = Date.now();
                this.sessionStart = Date.now();
                this.totalTime = this.loadTotalTime();
                this.sessionTime = 0;
                this.points = this.loadPoints();
                this.isActive = true;
                this.lastActivity = Date.now();
                
                this.init();
            }
            
            init() {
                console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TimeTracker...');
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                this.loadData();
                console.log(`üìä –ó–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: ${Math.floor(this.totalTime / 1000 / 60)}–º, ${this.points} –æ—á–∫–æ–≤`);
                
                // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                this.trackActivity();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
                this.updateStats();
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
                setInterval(() => {
                    console.log('üíæ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö...');
                    this.saveData();
                }, 30000);
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è/–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                window.addEventListener('beforeunload', () => {
                    console.log('üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏...');
                    this.saveData();
                });
                window.addEventListener('visibilitychange', () => this.handleVisibilityChange());
                
                console.log('‚úÖ TimeTracker –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
            }
            
            trackActivity() {
                const events = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart', 'click'];
                
                events.forEach(event => {
                    document.addEventListener(event, () => {
                        this.lastActivity = Date.now();
                        if (!this.isActive) {
                            console.log('üü¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ç–∞–ª –∞–∫—Ç–∏–≤–µ–Ω');
                            this.isActive = true;
                            this.sessionStart = Date.now();
                        }
                    }, true);
                });
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
                setInterval(() => {
                    const timeSinceActivity = Date.now() - this.lastActivity;
                    if (timeSinceActivity > 30000 && this.isActive) { // 30 —Å–µ–∫—É–Ω–¥ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                        console.log('üî¥ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω');
                        this.isActive = false;
                    }
                }, 5000);
            }
            
            updateStats() {
                if (this.isActive) {
                    const currentTime = Date.now();
                    const timeDiff = currentTime - this.sessionStart;
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω–æ–≤–æ–µ –≤—Ä–µ–º—è (–Ω–µ –¥—É–±–ª–∏—Ä—É–µ–º)
                    this.totalTime += timeDiff;
                    this.sessionStart = currentTime;
                    
                    // –ù–∞—á–∏—Å–ª—è–µ–º –æ—á–∫–∏ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (1 –æ—á–∫–æ –∑–∞ –º–∏–Ω—É—Ç—É)
                    const newPoints = Math.floor(timeDiff / 1000 / 60);
                    if (newPoints > 0) {
                        this.points += newPoints;
                    }
                    
                    // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                    console.log(`üïê –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: ${Math.floor(this.totalTime / 1000 / 60)}–º, –û—á–∫–∏: ${this.points}`);
                }
                
                this.displayStats();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
                setTimeout(() => this.updateStats(), 1000);
            }
            
            displayStats() {
                const timeElement = document.getElementById('timeSpent');
                const pointsElement = document.getElementById('pointsEarned');
                const timeChangeElement = document.getElementById('timeChange');
                const pointsChangeElement = document.getElementById('pointsChange');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∂–∏–≤–æ–π —Ç–∞–π–º–µ—Ä
                this.updateLiveTimer();
                
                if (timeElement) {
                    const hours = Math.floor(this.totalTime / (1000 * 60 * 60));
                    const minutes = Math.floor((this.totalTime % (1000 * 60 * 60)) / (1000 * 60));
                    timeElement.textContent = `${hours}—á ${minutes}–º`;
                }
                
                if (pointsElement) {
                    pointsElement.textContent = this.points.toLocaleString();
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
                this.updateChanges(timeChangeElement, pointsChangeElement);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
                this.updateProgressBar();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–µ–¥–µ–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                this.loadWeeklyStats();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                this.loadAchievements();
            }
            
            updateLiveTimer() {
                const liveTimerElement = document.getElementById('liveTimer');
                const statusDotElement = document.getElementById('statusDot');
                const statusTextElement = document.getElementById('statusText');
                
                if (liveTimerElement) {
                    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤—Ä–µ–º—è –≤ –ß–ß:–ú–ú:–°–°
                    const totalSeconds = Math.floor(this.totalTime / 1000);
                    const hours = Math.floor(totalSeconds / 3600);
                    const minutes = Math.floor((totalSeconds % 3600) / 60);
                    const seconds = totalSeconds % 60;
                    
                    const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    liveTimerElement.textContent = timeString;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
                if (statusDotElement && statusTextElement) {
                    if (this.isActive) {
                        statusDotElement.classList.remove('inactive');
                        statusTextElement.textContent = '–ê–∫—Ç–∏–≤–µ–Ω';
                    } else {
                        statusDotElement.classList.add('inactive');
                        statusTextElement.textContent = '–ù–µ–∞–∫—Ç–∏–≤–µ–Ω';
                    }
                }
            }
            
            updateChanges(timeChangeElement, pointsChangeElement) {
                const yesterdayData = this.getYesterdayData();
                
                if (timeChangeElement && yesterdayData.time > 0) {
                    const timeChange = ((this.totalTime - yesterdayData.time) / yesterdayData.time * 100);
                    const changeText = timeChange >= 0 ? `+${Math.round(timeChange)}% –∫ –≤—á–µ—Ä–∞` : `${Math.round(timeChange)}% –∫ –≤—á–µ—Ä–∞`;
                    timeChangeElement.textContent = changeText;
                    timeChangeElement.className = `stat-card__change ${timeChange >= 0 ? 'stat-card__change--positive' : 'stat-card__change--negative'}`;
                }
                
                if (pointsChangeElement && yesterdayData.points > 0) {
                    const pointsChange = ((this.points - yesterdayData.points) / yesterdayData.points * 100);
                    const changeText = pointsChange >= 0 ? `+${Math.round(pointsChange)}% –∫ –≤—á–µ—Ä–∞` : `${Math.round(pointsChange)}% –∫ –≤—á–µ—Ä–∞`;
                    pointsChangeElement.textContent = changeText;
                    pointsChangeElement.className = `stat-card__change ${pointsChange >= 0 ? 'stat-card__change--positive' : 'stat-card__change--negative'}`;
                }
            }
            
            updateProgressBar() {
                const progressBar = document.querySelector('.progress-bar__fill');
                const progressText = document.querySelector('.chart-container div:last-child');
                
                if (progressBar && progressText) {
                    const progress = Math.min((this.points / 1000) * 100, 100); // 1000 –æ—á–∫–æ–≤ = 100%
                    progressBar.style.width = `${progress}%`;
                    progressText.textContent = `${this.points} / 1,000 –æ—á–∫–æ–≤ (${Math.round(progress)}%)`;
                }
            }
            
            loadData() {
                const today = new Date().toDateString();
                const savedData = JSON.parse(localStorage.getItem('smartScrollStats') || '{}');
                
                if (savedData[today]) {
                    this.totalTime = savedData[today].time || 0;
                    this.points = savedData[today].points || 0;
                }
            }
            
            saveData() {
                const today = new Date().toDateString();
                const savedData = JSON.parse(localStorage.getItem('smartScrollStats') || '{}');
                
                savedData[today] = {
                    time: this.totalTime,
                    points: this.points,
                    lastUpdate: Date.now()
                };
                
                localStorage.setItem('smartScrollStats', JSON.stringify(savedData));
                console.log(`üíæ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã: ${Math.floor(this.totalTime / 1000 / 60)}–º, ${this.points} –æ—á–∫–æ–≤`);
            }
            
            loadTotalTime() {
                const today = new Date().toDateString();
                const savedData = JSON.parse(localStorage.getItem('smartScrollStats') || '{}');
                return savedData[today]?.time || 0;
            }
            
            loadPoints() {
                const today = new Date().toDateString();
                const savedData = JSON.parse(localStorage.getItem('smartScrollStats') || '{}');
                return savedData[today]?.points || 0;
            }
            
            getYesterdayData() {
                const yesterday = new Date();
                yesterday.setDate(yesterday.getDate() - 1);
                const yesterdayStr = yesterday.toDateString();
                const savedData = JSON.parse(localStorage.getItem('smartScrollStats') || '{}');
                
                return savedData[yesterdayStr] || { time: 0, points: 0 };
            }
            
            handleVisibilityChange() {
                if (document.hidden) {
                    this.isActive = false;
                } else {
                    this.isActive = true;
                    this.sessionStart = Date.now();
                    this.lastActivity = Date.now();
                }
            }
            
            loadWeeklyStats() {
                const weeklyStatsContainer = document.getElementById('weeklyStats');
                if (!weeklyStatsContainer) return;
                
                const days = ['–í—Å', '–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±'];
                const today = new Date();
                const savedData = JSON.parse(localStorage.getItem('smartScrollStats') || '{}');
                
                let html = '';
                
                for (let i = 6; i >= 0; i--) {
                    const date = new Date(today);
                    date.setDate(date.getDate() - i);
                    const dateStr = date.toDateString();
                    const dayData = savedData[dateStr] || { time: 0, points: 0 };
                    
                    const hours = Math.floor(dayData.time / (1000 * 60 * 60));
                    const minutes = Math.floor((dayData.time % (1000 * 60 * 60)) / (1000 * 60));
                    const timeStr = dayData.time > 0 ? `${hours}—á ${minutes}–º` : '0—á 0–º';
                    
                    const isToday = i === 0;
                    const isActive = isToday && this.isActive;
                    
                    html += `
                        <div class="daily-stat ${isToday ? 'daily-stat--today' : ''} ${isActive ? 'daily-stat--active' : ''}" 
                             data-time="${dayData.time}" data-points="${dayData.points}">
                            <div class="daily-stat__day">${days[date.getDay()]}</div>
                            <div class="daily-stat__value">${timeStr}</div>
                        </div>
                    `;
                }
                
                weeklyStatsContainer.innerHTML = html;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                weeklyStatsContainer.querySelectorAll('.daily-stat').forEach(stat => {
                    stat.addEventListener('click', function() {
                        const day = this.querySelector('.daily-stat__day').textContent;
                        const value = this.querySelector('.daily-stat__value').textContent;
                        const time = parseInt(this.dataset.time) || 0;
                        const points = parseInt(this.dataset.points) || 0;
                        
                        showNotification(`${day}: ${value} –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, ${points} –æ—á–∫–æ–≤`);
                    });
                });
            }
            
            loadAchievements() {
                const achievementsContainer = document.getElementById('achievementsGrid');
                if (!achievementsContainer) return;
                
                const achievements = [];
                const hours = Math.floor(this.totalTime / (1000 * 60 * 60));
                const minutes = Math.floor((this.totalTime % (1000 * 60 * 60)) / (1000 * 60));
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                if (this.points >= 1000) {
                    achievements.push({ icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>', text: '1000+ –æ—á–∫–æ–≤', color: '#30CAA1' });
                }
                if (this.points >= 500) {
                    achievements.push({ icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>', text: '500+ –æ—á–∫–æ–≤', color: '#20A0FF' });
                }
                if (hours >= 4) {
                    achievements.push({ icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>', text: '4+ —á–∞—Å–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏', color: '#FF6B6B' });
                }
                if (hours >= 2) {
                    achievements.push({ icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M17.5 12c0-1.23-1.02-2.5-2.5-2.5s-2.5 1.27-2.5 2.5 1.02 2.5 2.5 2.5 2.5-1.27 2.5-2.5zm-2.5-1c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-7 1c0-1.23-1.02-2.5-2.5-2.5S4 10.77 4 12s1.02 2.5 2.5 2.5S9 13.23 9 12zm-2.5 0c0-.55.45-1 1-1s1 .45 1 1-.45 1-1 1-1-.45-1-1z"/></svg>', text: '2+ —á–∞—Å–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏', color: '#FFD93D' });
                }
                if (this.points >= 100) {
                    achievements.push({ icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>', text: '100+ –æ—á–∫–æ–≤', color: '#6BCF7F' });
                }
                if (minutes >= 30) {
                    achievements.push({ icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>', text: '30+ –º–∏–Ω—É—Ç', color: '#A8E6CF' });
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä–∏–∫ (–¥–Ω–∏ –ø–æ–¥—Ä—è–¥ —Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é)
                const streak = this.calculateStreak();
                if (streak >= 7) {
                    achievements.push({ icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M17.5 12c0-1.23-1.02-2.5-2.5-2.5s-2.5 1.27-2.5 2.5 1.02 2.5 2.5 2.5 2.5-1.27 2.5-2.5zm-2.5-1c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-7 1c0-1.23-1.02-2.5-2.5-2.5S4 10.77 4 12s1.02 2.5 2.5 2.5S9 13.23 9 12zm-2.5 0c0-.55.45-1 1-1s1 .45 1 1-.45 1-1 1-1-.45-1-1z"/></svg>', text: `–°—Ç—Ä–∏–∫ ${streak} –¥–Ω–µ–π`, color: '#FF6B6B' });
                } else if (streak >= 3) {
                    achievements.push({ icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M17.5 12c0-1.23-1.02-2.5-2.5-2.5s-2.5 1.27-2.5 2.5 1.02 2.5 2.5 2.5 2.5-1.27 2.5-2.5zm-2.5-1c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-7 1c0-1.23-1.02-2.5-2.5-2.5S4 10.77 4 12s1.02 2.5 2.5 2.5S9 13.23 9 12zm-2.5 0c0-.55.45-1 1-1s1 .45 1 1-.45 1-1 1-1-.45-1-1z"/></svg>', text: `–°—Ç—Ä–∏–∫ ${streak} –¥–Ω—è`, color: '#FFD93D' });
                }
                
                if (achievements.length === 0) {
                    achievements.push({ icon: '<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>', text: '–ù–∞—á–Ω–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å!', color: '#87CEEB' });
                }
                
                let html = '';
                achievements.forEach(achievement => {
                    html += `
                        <div class="achievement-badge" style="background: linear-gradient(135deg, ${achievement.color}20 0%, ${achievement.color}40 100%); border-color: ${achievement.color};">
                            <span>${achievement.icon}</span>
                            <span>${achievement.text}</span>
                        </div>
                    `;
                });
                
                achievementsContainer.innerHTML = html;
            }
            
            calculateStreak() {
                const savedData = JSON.parse(localStorage.getItem('smartScrollStats') || '{}');
                const today = new Date();
                let streak = 0;
                
                for (let i = 0; i < 30; i++) { // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
                    const date = new Date(today);
                    date.setDate(date.getDate() - i);
                    const dateStr = date.toDateString();
                    const dayData = savedData[dateStr];
                    
                    if (dayData && dayData.time > 0) {
                        streak++;
                    } else {
                        break;
                    }
                }
                
                return streak;
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏
        function testStats() {
            console.log('üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...');
            const timeTracker = window.timeTracker;
            if (timeTracker) {
                console.log('üìä –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ:', {
                    totalTime: timeTracker.totalTime,
                    points: timeTracker.points,
                    isActive: timeTracker.isActive,
                    sessionStart: timeTracker.sessionStart
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
                timeTracker.totalTime += 60000; // +1 –º–∏–Ω—É—Ç–∞
                timeTracker.points += 1;
                timeTracker.saveData();
                timeTracker.displayStats();
                
                console.log('‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã');
            }
        }
        
        function resetStats() {
            console.log('üîÑ –°–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...');
            localStorage.removeItem('smartScrollStats');
            location.reload();
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
        function addDebugButtons() {
            const debugPanel = document.createElement('div');
            debugPanel.style.cssText = `
                position: fixed;
                top: 10px;
                right: 10px;
                z-index: 9999;
                background: rgba(0,0,0,0.8);
                padding: 10px;
                border-radius: 8px;
                color: white;
                font-size: 12px;
            `;
            debugPanel.innerHTML = `
                <button onclick="testStats()" style="margin: 2px; padding: 4px 8px; background: #30CAA1; border: none; border-radius: 4px; color: white; cursor: pointer;">–¢–µ—Å—Ç</button>
                <button onclick="resetStats()" style="margin: 2px; padding: 4px 8px; background: #FF6B6B; border: none; border-radius: 4px; color: white; cursor: pointer;">–°–±—Ä–æ—Å</button>
            `;
            document.body.appendChild(debugPanel);
        }

        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        document.addEventListener('DOMContentLoaded', function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç—Ä–µ–∫–µ—Ä –≤—Ä–µ–º–µ–Ω–∏
            const timeTracker = new TimeTracker();
            window.timeTracker = timeTracker; // –î–µ–ª–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –æ—Ç–ª–∞–¥–∫–∏
            addDebugButtons();
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            const statCards = document.querySelectorAll('.stat-card');
            statCards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.6s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 200);
            });

            // –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –¥–Ω–µ–≤–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            const dailyStats = document.querySelectorAll('.daily-stat');
            dailyStats.forEach(stat => {
                stat.addEventListener('click', function() {
                    const day = this.querySelector('.daily-stat__day').textContent;
                    const value = this.querySelector('.daily-stat__value').textContent;
                    
                    showNotification(`${day}: ${value} –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏`);
                });
            });

            // –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –Ω–∞–≤–±–∞—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            const statsNavItem = document.querySelector('.navbar__item--stats');
            if (statsNavItem) {
                // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
                statsNavItem.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-3px) scale(1.05)';
                });
                
                statsNavItem.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('navbar__item--active')) {
                        this.style.transform = 'translateY(0) scale(1)';
                    }
                });

                // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ
                statsNavItem.addEventListener('click', function() {
                    // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –≤–æ–ª–Ω—ã
                    const ripple = document.createElement('div');
                    ripple.style.cssText = `
                        position: absolute;
                        border-radius: 50%;
                        background: rgba(48, 202, 161, 0.6);
                        transform: scale(0);
                        animation: ripple 0.6s linear;
                        pointer-events: none;
                        width: 20px;
                        height: 20px;
                        left: 50%;
                        top: 50%;
                        margin-left: -10px;
                        margin-top: -10px;
                    `;
                    
                    this.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            }

            // –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ –Ω–∞–≤–±–∞—Ä –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            const navbar = document.querySelector('.navbar');
            if (navbar) {
                // –î–æ–±–∞–≤–ª—è–µ–º –ø–ª–∞–≤–Ω—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É
                navbar.style.scrollBehavior = 'smooth';
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –∞–∫—Ç–∏–≤–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
                const activeItem = navbar.querySelector('.navbar__item--active');
                if (activeItem) {
                    setTimeout(() => {
                        activeItem.scrollIntoView({ 
                            behavior: 'smooth', 
                            block: 'nearest',
                            inline: 'center'
                        });
                    }, 100);
                }
            }
        });

        // –°—Ç–∏–ª–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –æ–ø—Ü–∏–∏ –∫–≤–∏–∑–∞ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏
        const quizStyle = document.createElement('style');
        quizStyle.textContent = `
            .quiz-card__option--selected {
                background-color: #30CAA1 !important;
                color: #000000 !important;
                border-color: #30CAA1 !important;
            }
            
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(quizStyle);

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –Ω–∞–≤–±–∞—Ä–∞
        function initNavbar() {
            const navbarItems = document.querySelectorAll('.navbar__item');
            
            navbarItems.forEach(item => {
                item.addEventListener('click', function() {
                    const text = this.querySelector('.navbar__text').textContent;
                    
                    // –£–¥–∞–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                    navbarItems.forEach(navItem => {
                        navItem.classList.remove('navbar__item--active');
                    });
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ —Ç–µ–∫—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
                    this.classList.add('navbar__item--active');
                    
                    // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
                    switch(text) {
                        case '–õ–µ–Ω—Ç–∞':
                            window.location.href = 'feed.html';
                            break;
                        case '–ü–æ—Å—Ç—ã':
                            window.location.href = 'posts.html';
                            break;
                        case '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞':
                            // –£–∂–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                            break;
                        case '–ù–∞—Å—Ç—Ä–æ–π–∫–∏':
                            window.location.href = 'settings.html';
                            break;
                        case '–ü—Ä–æ—Ñ–∏–ª—å':
                            window.location.href = 'profile.html';
                            break;
                        default:
                            console.log('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:', text);
                    }
                });
            });
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –µ–¥–∏–Ω—ã–π –Ω–∞–≤–±–∞—Ä
        fetch('unified-navbar.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('unified-navbar-container').innerHTML = html;
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞–≤–±–∞—Ä –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
                if (window.initializeNavbar) {
                    window.initializeNavbar();
                }
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –µ–¥–∏–Ω–æ–≥–æ –Ω–∞–≤–±–∞—Ä–∞:', error);
            });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞–≤–±–∞—Ä –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                if (window.initializeNavbar) {
                    window.initializeNavbar();
                }
            }, 100);
        });
    </script>
    
    <!-- –ù–æ–≤—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –Ω–∞–≤–±–∞—Ä -->
    <nav class="modern-navbar">
        <div class="modern-navbar__container">
            <!-- –õ–µ–Ω—Ç–∞ -->
            <div class="modern-navbar__item" onclick="window.location.href='feed.html'">
                <div class="modern-navbar__icon-wrapper">
                    <svg class="modern-navbar__icon" viewBox="0 0 24 24" fill="none">
                        <path d="M4.5 4.5a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h8.25a3 3 0 0 0 3-3v-9a3 3 0 0 0-3-3H4.5ZM19.94 18.75l-2.69-2.69V7.94l2.69-2.69c.944-.945 2.56-.276 2.56 1.06v11.38c0 1.336-1.616 2.005-2.56 1.06Z" fill="currentColor"/>
                    </svg>
                </div>
                <span class="modern-navbar__label">–õ–µ–Ω—Ç–∞</span>
            </div>

            <!-- –ü–æ—Å—Ç—ã -->
            <div class="modern-navbar__item" onclick="window.location.href='posts.html'">
                <div class="modern-navbar__icon-wrapper">
                    <svg class="modern-navbar__icon" viewBox="0 0 24 24" fill="none">
                        <path fill-rule="evenodd" d="M4.125 3C3.089 3 2.25 3.84 2.25 4.875V18a3 3 0 0 0 3 3h15a3 3 0 0 1-3-3V4.875C17.25 3.839 16.41 3 15.375 3H4.125ZM12 9.75a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5H12Zm-.75-2.25a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1-.75-.75ZM6 12.75a.75.75 0 0 0 0 1.5h7.5a.75.75 0 0 0 0-1.5H6Zm-.75 3.75a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5H6a.75.75 0 0 1-.75-.75ZM6 6.75a.75.75 0 0 0-.75.75v3c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75v-3A.75.75 0 0 0 9 6.75H6Z" clip-rule="evenodd" fill="currentColor"/>
                        <path d="M18.75 6.75h1.875c.621 0 1.125.504 1.125 1.125V18a1.5 1.5 0 0 1-3 0V6.75Z" fill="currentColor"/>
                    </svg>
                </div>
                <span class="modern-navbar__label">–ü–æ—Å—Ç—ã</span>
            </div>

            <!-- –ö–≤–∏–∑—ã -->
            <a href="quiz-template.html" class="modern-navbar__item">
                <div class="modern-navbar__icon-wrapper">
                    <svg class="modern-navbar__icon" viewBox="0 0 24 24" fill="none">
                        <path fill-rule="evenodd" d="M4.5 2.25a.75.75 0 0 0 0 1.5v16.5h-.75a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5h-.75V3.75a.75.75 0 0 0 0-1.5H4.5ZM3.75 3a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 .75.75v18a.75.75 0 0 1-.75.75h-15a.75.75 0 0 1-.75-.75V3Zm6.75 3a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Zm0 3a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Zm0 3a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Zm0 3a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5h-3Z" clip-rule="evenodd" fill="currentColor"/>
                    </svg>
                </div>
                <span class="modern-navbar__label">–ö–≤–∏–∑</span>
            </a>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞) -->
            <div class="modern-navbar__item modern-navbar__item--active" onclick="window.location.href='stats.html'">
                <div class="modern-navbar__icon-wrapper">
                    <svg class="modern-navbar__icon" viewBox="0 0 24 24" fill="none">
                        <path d="M3 4.5A2.25 2.25 0 0 1 5.25 2.25h13.5A2.25 2.25 0 0 1 21 4.5v15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 19.5v-15ZM12 6.75a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1-.75-.75ZM12 12a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1-.75-.75ZM12 17.25a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1-.75-.75ZM6.75 6.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM6.75 12a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM6.75 17.25a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75Z" fill="currentColor"/>
                    </svg>
                </div>
                <span class="modern-navbar__label">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
            </div>

            <!-- –ú–∞–≥–∞–∑–∏–Ω -->
            <div class="modern-navbar__item" onclick="window.location.href='smart-shop.html'">
                <div class="modern-navbar__icon-wrapper">
                    <svg class="modern-navbar__icon" viewBox="0 0 24 24" fill="none">
                        <path d="M2.25 2.25a.75.75 0 0 0 0 1.5h1.5c.98 0 1.813.626 2.122 1.5h13.5a.75.75 0 0 1 0 1.5H5.872a2.25 2.25 0 0 1-2.122 1.5H2.25a.75.75 0 0 1 0-1.5ZM2.25 6a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 1 0 1.5H2.25a.75.75 0 0 1 0-1.5ZM2.25 9.75a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 1 0 1.5H2.25a.75.75 0 0 1 0-1.5ZM2.25 13.5a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 1 0 1.5H2.25a.75.75 0 0 1 0-1.5ZM2.25 17.25a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 1 0 1.5H2.25a.75.75 0 0 1 0-1.5ZM6 3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75ZM6 6.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75ZM6 9.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75ZM6 12.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75ZM6 15.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75ZM6 18.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75ZM9 3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H9.75a.75.75 0 0 1-.75-.75ZM9 6.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H9.75a.75.75 0 0 1-.75-.75ZM9 9.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H9.75a.75.75 0 0 1-.75-.75ZM9 12.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H9.75a.75.75 0 0 1-.75-.75ZM9 15.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H9.75a.75.75 0 0 1-.75-.75ZM9 18.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H9.75a.75.75 0 0 1-.75-.75ZM12 3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM12 6.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM12 9.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM12 12.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM12 15.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM12 18.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM15 3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM15 6.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM15 9.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM15 12.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM15 15.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM15 18.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM18 3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM18 6.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM18 9.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM18 12.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM18 15.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM18 18.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM21 3.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM21 6.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM21 9.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM21 12.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM21 15.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM21 18.75a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75Z" fill="currentColor"/>
                    </svg>
                </div>
                <span class="modern-navbar__label">–ú–∞–≥–∞–∑–∏–Ω</span>
            </div>

            <!-- –ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ -->
            <div class="modern-navbar__item" onclick="window.location.href='conference-template-new.html'">
                <div class="modern-navbar__icon-wrapper">
                    <svg class="modern-navbar__icon" viewBox="0 0 24 24" fill="none">
                        <path d="M17 10.5V7C17 6.45 16.55 6 16 6H4C3.45 6 3 6.45 3 7V17C3 17.55 3.45 18 4 18H16C16.55 18 17 17.55 17 17V13.5L21 17.5V6.5L17 10.5Z" fill="currentColor"/>
                    </svg>
                </div>
                <span class="modern-navbar__label">–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏</span>
            </div>

            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="modern-navbar__item" onclick="window.location.href='settings.html'">
                <div class="modern-navbar__icon-wrapper">
                    <svg class="modern-navbar__icon" viewBox="0 0 24 24" fill="none">
                        <path d="M18.75 12.75h1.5a.75.75 0 0 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM12 6a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 6ZM12 18a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 12 18ZM3.75 6.75h1.5a.75.75 0 1 0 0-1.5h-1.5a.75.75 0 0 0 0 1.5ZM5.25 18.75h-1.5a.75.75 0 0 1 0-1.5h1.5a.75.75 0 0 1 0 1.5ZM3 12a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 3 12ZM9 3.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM12.75 12a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM9 15.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z" fill="currentColor"/>
                    </svg>
                </div>
                <span class="modern-navbar__label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
            </div>
        </div>
    </nav>
</body>
</html>
